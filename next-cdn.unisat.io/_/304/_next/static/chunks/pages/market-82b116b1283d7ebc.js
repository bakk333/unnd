(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5776],{13160:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market",function(){return t(84081)}])},45944:function(e,s,t){"use strict";t.d(s,{k:function(){return c}});var n=t(85893);function c(e){let{change:s,className:t}=e,c=(100*(s||0)).toFixed(2);return(0,n.jsxs)("span",{className:"".concat(s<0?"down-color":"up-color"," ").concat(t||""),children:[c,"%"]})}},84081:function(e,s,t){"use strict";t.r(s),t.d(s,{MarketTab:function(){return c},default:function(){return z}});var n,c,l=t(85893),i=t(11163),a=t(67294),r=t(54284),d=t(66214),o=t(62625),h=t(88404),m=t(21911),x=t(29168),u=t(37281),j=t(41664),f=t.n(j),v=t(48054),p=t(26725),N=t(70794);function w(e){let{name:s,url:t,list:n,getHref:c}=e;return(0,l.jsxs)("div",{className:"trade-line mt48",children:[(0,l.jsx)("div",{className:"flex-row-between",children:(0,l.jsxs)("span",{className:"font26 response",children:["Trending in ",s]})}),n?(0,l.jsx)("div",{className:"mt24",children:(0,l.jsx)("div",{className:"trade-line-list flex-row-v-center  gap16",children:n.slice(0,4).map((e,t)=>{let n=(100*((null==e?void 0:e.volumePercent)||0)).toFixed(1),i=e&&e.volumePercent<0?"down-color":"up-color",a=(100*((null==e?void 0:e.pricePercent)||0)).toFixed(1),r=e&&0>(e.pricePercent||0)?"down-color":"up-color";return(0,l.jsxs)(f(),{className:"trade-line-item ".concat(null==s?void 0:s.toLowerCase()),href:c(e),children:[(0,l.jsx)("div",{className:"trade-content",children:e.name}),(0,l.jsxs)("div",{className:"bottom p24 flex-row-v-center gap-16",children:[(0,l.jsxs)("div",{className:"flex-column gap-4",children:[(0,l.jsxs)("div",{className:"flex-row-v-center gap-4",children:[(0,l.jsx)("span",{className:"white",children:(e.volume/p.BO).toFixed(4)}),(0,l.jsxs)("span",{className:"font-12 ".concat(i),children:[n,"%"]})]}),(0,l.jsxs)("span",{className:"notice font-14 no-break",children:["Volume (",p.kB,")"]})]}),(0,l.jsx)("div",{className:"divider hide-in-m"}),e.price?(0,l.jsxs)("div",{className:"flex-column hide-in-m",children:[(0,l.jsxs)("div",{className:"flex-row-v-center gap-4",children:[(0,l.jsx)("span",{className:"white font13 display-number",children:(0,o.xO)(new N.Z(e.price).toString())}),(0,l.jsxs)("span",{className:"font-12 ".concat(r),children:[a,"%"]})]}),(0,l.jsxs)("span",{className:"notice font-14",children:["sats/",e.name]})]}):(0,l.jsxs)("div",{className:"flex-column hide-in-m",children:[(0,l.jsx)("span",{className:"white",children:e.listed}),(0,l.jsx)("span",{className:"notice font-14",children:"Listed"})]})]})]},t)})})}):(0,l.jsx)(v.Z,{})]})}var g=t(23010),b=t(61101),k=t(97582),y=t(91033),C=t(45210),T=function(e){var s=(0,a.useRef)(0),t=(0,k.CR)((0,a.useState)(e),2),n=t[0],c=t[1],l=(0,a.useCallback)(function(e){cancelAnimationFrame(s.current),s.current=requestAnimationFrame(function(){c(e)})},[]);return(0,C.Z)(function(){cancelAnimationFrame(s.current)}),[n,l]},P=t(48002),S=t(52982),_=t(59682),Z=(0,t(40351).Z)(a.useLayoutEffect),E=S.Z?Z:_.Z,F=function(e){var s=(0,k.CR)(T(function(){var s=(0,P.n)(e);return s?{width:s.clientWidth,height:s.clientHeight}:void 0}),2),t=s[0],n=s[1];return E(function(){var s=(0,P.n)(e);if(s){var t=new y.Z(function(e){e.forEach(function(e){var s=e.target;n({width:s.clientWidth,height:s.clientHeight})})});return t.observe(s),function(){t.disconnect()}}},[],e),t},M=t(6171),I=t(18073);let V=0,B=!0;function R(e){let{list:s}=e,[t,n]=(0,a.useState)(V),[c,i]=(0,a.useState)(!1),r=(0,a.useRef)(null),d=(0,a.useRef)(null),o=F(r),h=F(d),[m,x]=(0,a.useState)(0);(0,a.useEffect)(()=>{V=0},[]),(0,a.useEffect)(()=>{let e=null;return!c&&s&&h&&o&&(e=setInterval(()=>{B?(n(++V),V===s.length-1&&(B=!1)):(n(--V),V<=0&&(V=0,B=!0));let e=318*V;B&&e>h.width-o.width?(e=h.width-o.width,B=!1):!B&&e<0&&(e=0,B=!0),e<0&&(e=0),x(-e)},6e3)),()=>{e&&clearInterval(e)}},[o,h,c,s]);let u=(0,a.useCallback)(()=>{0!==V&&(n(--V),x(-(318*V)))},[]),j=(0,a.useCallback)(()=>{if(!s||!h||!o||V===s.length-1)return;let e=V+1,t=318*e;t>h.width-o.width?t=h.width-o.width:n(V=e),x(-t)},[o,h,s]);return s?(0,l.jsxs)("div",{ref:r,className:"hot-collection-line-container mt32 flex-row-v-center",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[(0,l.jsx)("div",{className:"arrow left",onClick:u,children:(0,l.jsx)(M.Z,{})}),(0,l.jsx)("div",{className:"arrow right",onClick:j,children:(0,l.jsx)(I.Z,{})}),(0,l.jsx)("div",{className:"overflow-hidden",children:(0,l.jsx)("div",{ref:d,className:"hot-collection-line flex-row-stretch",style:{transform:"translateX(".concat(m,"px)"),gap:16},children:s.map((e,s)=>(0,l.jsxs)(f(),{className:"item radius12",href:"/market/collection?collectionId=".concat(e.collectionId),children:[(0,l.jsx)("div",{className:"bg1",style:{lineHeight:0,width:300,height:300},children:(0,l.jsx)(g.T,{inscriptionId:e.icon,contentType:e.iconContentType,width:300})}),(0,l.jsxs)("div",{className:"info",children:[(0,l.jsxs)("div",{className:"flex-row-v-center gap-8 font18",children:[e.name,e.verification&&(0,l.jsx)(b.Z,{})]}),(0,l.jsxs)("div",{className:"font14 white07 mt-8",children:["Floor: ",e.floorPrice/p.BO," ",p.kB]}),(0,l.jsx)("div",{className:"button linear-gradient-button",children:"Explore"})]})]},s))})})]}):(0,l.jsx)(v.Z,{active:!0,className:"mt32"})}var O=t(92783),W=t(46062),L=t(66675),A=t(94113);function H(){let[e,s]=(0,a.useState)(null),[t,n]=(0,a.useState)(d.WT._24h);function c(e){let{className:s}=e;return(0,l.jsxs)("div",{className:"item head font-14 ".concat(s||""),children:[(0,l.jsx)("span",{className:"text-right",children:"#"}),(0,l.jsx)("span",{children:"Collection"}),(0,l.jsxs)("span",{className:"text-right hide-in-475",children:["Volume (",t,")"]}),(0,l.jsx)("span",{className:"text-right hide-in-m",children:"Listed/Items"})]})}return(0,a.useEffect)(()=>{s(null),d.Yr.getCollectionList({filter:{timeType:t},start:0,limit:10}).then(e=>{0===e.code?s(e.data.list):(0,m.S3)(e.msg)}).catch(m.S3)},[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex-row-between mt64 mb24",children:[(0,l.jsx)("span",{className:"font26 response",children:"Trending in Collections"}),(0,l.jsxs)("div",{className:"flex-row-v-center gap16",children:[(0,l.jsx)(O.Z,{className:"hide-in-m",value:t,onChange:e=>{n(e)},options:[{label:"6h",value:d.WT._6h},{label:"24h",value:d.WT._24h},{label:"7d",value:d.WT._7d},{label:"30d",value:d.WT._30d},{label:"All",value:d.WT.all}]}),(0,l.jsx)(f(),{href:"/market/collection",children:(0,l.jsxs)(W.ZP,{size:"large",children:["View All ",(0,l.jsx)(I.Z,{})]})})]})]}),(0,l.jsxs)("div",{className:"trending-in-collections-list",children:[(0,l.jsx)(c,{}),e?e.map((e,s)=>{let t=(100*(e.btcValuePercent||0)).toFixed(2),n=e&&e.btcValuePercent<0?"down-color":"up-color";return(0,l.jsxs)(a.Fragment,{children:[5===s&&(0,l.jsx)(c,{className:"hide-in-1200"}),(0,l.jsxs)(f(),{className:"item font14",href:"/market/collection?collectionId=".concat(e.collectionId),children:[(0,l.jsx)("span",{className:"white07 text-right",children:s+1}),(0,l.jsxs)("div",{className:"flex-row-v-center",children:[(0,l.jsx)("div",{className:"bg1 radius8",style:{lineHeight:0,width:56,height:56},children:(0,l.jsx)(g.T,{inscriptionId:e.icon,contentType:e.iconContentType,width:56})}),(0,l.jsxs)("div",{className:"ml-16",children:[(0,l.jsxs)("div",{className:"flex-row-v-center font16 no-break",children:[(0,l.jsx)("span",{className:"white weight-bold ellipsis",style:e.verification?{maxWidth:176}:{width:200},children:e.name}),e.verification&&(0,l.jsx)(b.Z,{})]}),(0,l.jsxs)("div",{className:"flex-row-v-center gap-4 mt-8 white06 font12 flex-wrap",children:[(0,l.jsxs)("div",{className:"flex-row-v-center",children:["Floor:",(0,l.jsxs)("div",{className:"white",children:[(0,l.jsx)("span",{children:e.floorPrice/p.BO}),(0,l.jsx)("span",{className:"notice ml4",children:p.kB})]})]}),(0,l.jsxs)("span",{children:["($",(0,L.tq)(e.floorPrice),")"]})]})]})]}),(0,l.jsxs)("div",{className:"text-right hide-in-475",children:[(0,l.jsxs)("div",{className:"white flex-row-end gap-4",children:[(0,l.jsx)("span",{children:e.btcValue/p.BO}),(0,l.jsx)(A.J,{})]}),(0,l.jsxs)("div",{className:"".concat(n," mt4"),children:[t,"%"]})]}),(0,l.jsxs)("span",{className:"text-right white hide-in-m",children:[e.listed,"/",e.total]})]})]},s)}):(0,l.jsx)(v.Z,{active:!0,className:"mt32"})]})]})}var Y=t(62177),q=t(45944),D=t(13292),G=t(13555),J=t(42085);function X(e){let{list:s,isRunes:t=!1}=e,n=(0,i.useRouter)();return(0,l.jsxs)("div",{className:"".concat(t?"mt32":"mt64"," trending-in-brc20"),children:[(0,l.jsxs)("div",{className:"font26 response mb24",children:["Trending in ",t?"Runes":"brc-20"]}),(0,l.jsx)("div",{className:"table-container scroll-x radius20 border-015",children:(0,l.jsxs)("table",{className:"",cellSpacing:0,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"white08",children:[(0,l.jsx)("th",{children:"Name"}),(0,l.jsx)("th",{className:"text-right",children:"Volume (24h)"}),(0,l.jsx)("th",{className:"text-right",children:"Price (sats)"}),(0,l.jsx)("th",{className:"text-right",children:"Change (24h)"}),!t&&(0,l.jsx)("th",{className:"text-right",children:"Market Cap"})]})}),(0,l.jsx)("tbody",{children:s?s.map((e,s)=>{let c=parseInt((e.price*e.totalMinted||0).toFixed(0))/p.BO;return(0,l.jsxs)("tr",{onClick:()=>t?n.push("/runes/market?tick=".concat(encodeURIComponent(e.name))):n.push("/market/brc20?tick=".concat(encodeURIComponent(e.name))),children:[(0,l.jsx)("td",{className:"main-color",children:(0,l.jsxs)("div",{className:"flex-row-v-center gap-8",children:[!t&&(0,l.jsx)("div",{className:"radius50p border-02",children:(0,l.jsx)(D.Y,{width:40,tick:e.name})}),t?e.name:(0,l.jsx)(J.h,{tick:e.name}),p.GD?e.selfMint&&(0,l.jsx)(G.V,{}):e.is5byte&&(0,l.jsx)(G.V,{})]})}),(0,l.jsx)("td",{className:"",children:(0,l.jsx)("div",{className:"flex-row-end align-end",children:(0,l.jsxs)("div",{className:"flex-row-v-center gap-4",children:[e.volume/p.BO,(0,l.jsx)(A.J,{})]})})}),(0,l.jsx)("td",{className:"",children:(0,l.jsxs)("div",{className:"flex-column align-end gap-2",children:[(0,l.jsx)("span",{className:"white",children:(0,Y.S)(e.price)}),(0,l.jsxs)("span",{className:"white06 font11",children:["sats/",e.symbol||e.name]})]})}),(0,l.jsx)("td",{className:"text-right",children:(0,l.jsx)(q.k,{className:"mt4",change:e.pricePercent})}),!t&&(0,l.jsx)("td",{className:"text-right",children:(0,l.jsxs)("div",{className:"flex-row-end gap-4",children:[c,(0,l.jsx)(A.J,{})]})})]},s)}):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:4,children:"Loading..."})})})]})})]})}function z(){let e=(0,i.useRouter)(),s=e.query.id,{isOnlyThisPage:t,isInApp:n}=(0,u.K4)(),[c,j]=(0,a.useState)(null),[f,v]=(0,a.useState)(null),[N,g]=(0,a.useState)(null),[b,k]=(0,a.useState)(null);return(0,a.useEffect)(()=>{d.Yr.getMarketEntry({}).then(e=>{if(!e||0!==e.code)return(0,m.S3)(e.msg);g(e.data.domain),k(e.data.collection),d.fc.getBrc20Types(!0).then(s=>{if(0===s.code){let t=s.data.list;if(p.GD)v(t.map(e=>({name:e.tick,volume:e.btcVolume,price:e.curPrice,pricePercent:e.changePercent,totalMinted:e.totalMinted,selfMint:e.selfMint})).slice(0,10));else{let s=e.data.brc20.concat(t.map(e=>({name:e.tick,volume:e.btcVolume,price:e.curPrice,pricePercent:e.changePercent,totalMinted:e.totalMinted,is5byte:!0})));s.sort((e,s)=>s.volume-e.volume),v(s.slice(0,10))}}else v(e.data.brc20)}).catch(()=>{v(e.data.brc20)})}).catch(m.S3)},[]),(0,a.useEffect)(()=>{async function e(){try{let e=await d.fc.info({inscriptionId:s}).catch(e=>null);if(e&&0===e.code&&e.data){j(e.data);return}}catch(e){}}s&&e().then()},[s]),(0,l.jsx)(x.z,{children:(0,l.jsxs)("div",{className:"main-container market ".concat(p.GD?"fractal":""),children:[(0,l.jsx)(h.Y,{}),(0,l.jsx)(R,{list:b}),(0,l.jsx)(H,{}),(0,l.jsx)(X,{list:f}),(0,l.jsx)(w,{name:"Names",url:"/market/names",list:N,getHref:e=>"/market/names?dt=".concat(e.name.replaceAll(".",""))}),c&&(0,l.jsx)(r.o,{detail:c,close:()=>{j(null),(0,o.ch)(e,"id")},nftType:c.nftType})]})})}(n=c||(c={})).brc20="brc20",n.sats="sats",n.unisat="unisat",n.collection="collection"}},function(e){e.O(0,[3791,1980,2783,8791,2398,7364,2327,2979,7221,4627,4850,2518,9959,9774,2888,179],function(){return e(e.s=13160)}),_N_E=e.O()}]);