(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9603],{8266:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return s(71054)}])},71054:function(e,n,s){"use strict";s.r(n);var i=s(85893),a=s(67294),t=s(74330),c=s(38289),r=s(11980),l=s(62625),d=s(11163),o=s(25675),u=s.n(o),m=s(41664),h=s.n(m),p=s(54284),x=s(66214),f=s(37281),v=s(66675),j=s(13133),N=s(21911),y=s(98491),b=s(70794),g=s(26725);let w=[{type:"text",name:"text"},{type:"brc20",name:"brc-20",tag:"new",link:()=>g.GD?void 0:(0,i.jsx)("a",{href:"https://domo-2.gitbook.io/brc-20-experiment/",style:{textDecoration:"underline",marginLeft:16,color:"#8a8a8a"},target:"_blank",rel:"noreferrer",children:"brc-20"})},{type:"uniworlds",name:".uniworlds",suffix:".uniworlds"},{type:"bitmap",name:".bitmap",suffix:".bitmap"},{type:"sats",name:".sats",suffix:".sats"},{type:"unisat",name:".unisat",suffix:".unisat"},{type:"number",name:"number"},{type:"news",name:"news",link:()=>(0,i.jsx)("a",{href:"https://inscribe.news",className:"hide-in-m",style:{textDecoration:"underline",marginLeft:16,color:"#8a8a8a"},target:"_blank",rel:"",children:"inscribe.news"})}];function k(e){let{obj:n,data:s}=e;if(!n)return(0,i.jsx)("div",{className:"name-container",children:(0,i.jsx)("div",{className:"name display-domain",children:s})});if("deploy"===n.op){let e=new b.Z(n.max||"").isEqualTo("18446744073709551615");return(0,i.jsxs)("div",{className:"brc20-container ".concat(n.op),children:[(0,i.jsxs)("div",{className:"top",children:[(0,i.jsx)("div",{className:"tick display-domain",children:n.tick}),(0,i.jsx)("div",{className:"op-tag",children:n.op})]}),(0,i.jsx)("div",{className:"info-container",children:(0,i.jsx)("div",{className:"amt",children:(0,i.jsx)("span",{className:"max",children:e?"No Limit":(0,l.xO)(n.max)})})}),!e&&(0,i.jsxs)("div",{className:"lim",children:["(",(((null==n?void 0:n.minted)||0)/(n.max||1)*100).toFixed(2),"% minted)"]})]})}return(0,i.jsxs)("div",{className:"brc20-container ".concat(n.op),children:[(0,i.jsxs)("div",{className:"top",children:[(0,i.jsx)("div",{className:"tick display-domain",children:n.tick}),(0,i.jsx)("div",{className:"op-tag",children:n.op})]}),(0,i.jsx)("div",{className:"info-container",children:(0,i.jsx)("div",{className:"amt",children:(0,l.xO)(n.amt)})})]})}w.forEach((e,n)=>{e.index=n}),n.default=function(){var e,n,s,o;let{errorWords:m}=(0,y.b)(),b=(0,d.useRouter)(),I=(null===(e=b.query)||void 0===e?void 0:e.q)||"",S=parseInt((null===(n=b.query)||void 0===n?void 0:n.p)||"1"),_=(null===(s=b.query)||void 0===s?void 0:s.type)||"brc20",C=w.findIndex(e=>e.type===_)||0,q=(null===(o=b.query)||void 0===o?void 0:o.q)!==void 0,{ordinalsAddress:E}=(0,f.K4)(),[T,L]=(0,a.useState)(C),[z,D]=(0,a.useState)(!1),[O,P]=(0,a.useState)(I),[Z,F]=(0,a.useState)([]),[X,R]=(0,a.useState)(0),[W,B]=(0,a.useState)(0),[G,J]=(0,a.useState)(!0),[Q,U]=(0,a.useState)(null),A=w[T];async function K(e){let{q:n,p:s,type:i}=e.query;if(void 0!==n)try{D(!0);let e=await j.c.searchInscriptions(i,n,32,s?(s-1)*32:0),a=(null==e?void 0:e.detail)||[];if(a.forEach(e=>{e.date=e.timestamp<1e4?"unconfirmed":new Date(1e3*e.timestamp).toLocaleString()}),("sats"===i||"unisat"===i)&&a.length>0&&V(a[0])){let e=await x.fc.domainInfo({inscriptionId:a[0].inscriptionId}).catch(e=>null);e&&0===e.code&&e.data&&(a[0].auctionInfo=e.data)}F(a),R((null==e?void 0:e.total)||0),B((null==e?void 0:e.matchCount)||0),J(!0)}catch(e){J(!1),(0,N.S3)(e)}finally{D(!1)}}async function $(e){var n;await b.push({pathname:"/search",query:{q:e,type:(null===(n=w[T])||void 0===n?void 0:n.type)||_,p:1}})}async function H(e){var n;await b.push("/search?q=".concat(encodeURIComponent(I),"&type=").concat((null===(n=w[T])||void 0===n?void 0:n.type)||_,"&p=").concat(e))}async function M(e){L(e),await b.push("/search?q=".concat(encodeURIComponent(O),"&type=").concat(w[e].type,"&p=1"))}function V(e){let{inscriptionName:n}=e;if(!(null==A?void 0:A.suffix))return!1;let s=n.toLowerCase();return s===I.toLowerCase()||!!s.endsWith(A.suffix)&&s.substring(0,n.length-A.suffix.length)===I.toLowerCase()}async function Y(e){if(!Q){if(e.address===E)return(0,N.pP)(m.same_buyer_and_seller);U(e)}}function ee(e){var n,s;let{item:a,children:c,index:r}=e,l=V(a),d=null===(n=a.brc20)||void 0===n?void 0:n.tick;return"brc20"===A.type&&d&&(null===(s=a.brc20)||void 0===s?void 0:s.op)==="deploy"?(0,i.jsx)(h(),{href:"/brc20/".concat(d),className:"sats-item  ".concat(l?"matched":""),children:c},r):(0,i.jsxs)("div",{className:"item-container flex-column align-stretch",children:[(0,i.jsx)(h(),{href:"news"===a.inscriptionType?"https://inscribe.news/view-news?id=".concat(a.inscriptionId):"/inscription/".concat(a.inscriptionId),target:"_blank",rel:"noreferrer",className:"sats-item  ".concat(l?"matched":""),children:c},r),a.auctionInfo&&(0,i.jsx)(i.Fragment,{children:Q&&Q.inscriptionId===a.inscriptionId?(0,i.jsx)("div",{className:"flex-row-center",children:(0,i.jsx)(t.Z,{})}):(0,i.jsxs)("div",{className:"market-buy-btn",onClick:()=>{if(!Q&&a.auctionInfo)return Y(a.auctionInfo)},children:[(0,i.jsx)("span",{children:"Buy"}),(0,i.jsxs)("div",{className:"price-container",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"price display-number",children:a.auctionInfo.price/1e8}),(0,i.jsx)("span",{className:"unit",children:g.kB})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("span",{className:"price display-number",children:["$",(0,v.tq)(a.auctionInfo.price)]})})]})]})})]})}function en(e){let{item:n,index:s}=e,a=V(n),t=n.address.substring(0,7)+"..."+n.address.substring(n.address.length-7);return(0,i.jsxs)(ee,{item:n,index:s,children:["brc20"===A.type&&n.brc20?(0,i.jsx)(k,{obj:n.brc20,data:n.inscriptionName}):(0,i.jsxs)("div",{className:"name-container",children:[(0,i.jsx)("div",{className:"name display-domain",children:n.inscriptionName}),a&&0===n.inscriptionIndex&&n.timestamp>1e5&&(0,i.jsx)(u(),{src:"".concat("https://next-cdn.unisat.io/_/304","/img/success.svg"),alt:"success",width:16,height:16})]}),(0,i.jsxs)("div",{className:"num",children:["#",(0,l.AN)(n.inscriptionNumber)]}),(0,i.jsx)("div",{className:"address",children:t}),(0,i.jsx)("div",{className:"date",children:n.date})]})}function es(e){let{item:n,index:s}=e;return(0,i.jsx)("div",{className:"tab ".concat(T===s?"selected":""),onClick:()=>M(s),children:n.name},s)}A||(A=w[0]),(0,a.useEffect)(()=>{K(b)},[b.query]);let ei=w;return g.GD&&(ei=w.filter(e=>["text","brc20"].includes(e.type))),(0,i.jsxs)("div",{className:"main-container sats",children:[(0,i.jsx)("div",{className:"title",children:"Search in Text Inscriptions"}),(0,i.jsxs)("div",{className:"top-notice",children:["Inscriptions become searchable in ",(0,i.jsx)("span",{children:"seconds"}),"."]}),(0,i.jsxs)("div",{className:"top-notice last-top-notice",children:["The ",(0,i.jsx)("span",{children:"fastest"})," inscription search engine!"]}),(0,i.jsxs)("div",{className:"search-container",children:[(0,i.jsxs)("div",{className:"flex-row-v-center",children:[(0,i.jsxs)("div",{className:"tab-container",children:[(0,i.jsx)("div",{className:"tab-line flex-row-v-center",children:ei.slice(0,3).map((e,n)=>{if(!(g.X2&&e.name.startsWith(".")))return(0,i.jsx)(es,{item:e,index:e.index||0},n)})}),(0,i.jsx)("div",{className:"tab-line  flex-row-v-center",children:ei.slice(3,w.length).map((e,n)=>{if(!(g.X2&&e.name.startsWith(".")))return(0,i.jsx)(es,{item:e,index:e.index||0},n)})})]}),A&&A.link&&A.link()]}),(0,i.jsx)(c.Z.Search,{onChange:e=>P(e.target.value),value:O,className:"search-input",size:"large",suffix:(null==A?void 0:A.suffix)?(0,i.jsx)("span",{style:{color:"#8a8a8a"},children:A.suffix}):"",placeholder:"search any text",allowClear:!0,autoFocus:!0,loading:z,onSearch:$})]}),G&&q&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"result-notice",children:["Searched for ",(0,i.jsx)("span",{children:'"'+I+'"'})," among ",(0,i.jsx)("span",{children:X})," records, found ",(0,i.jsx)("span",{children:W})," results."]})}),G&&!z&&O&&(0,i.jsx)(r.Z,{showQuickJumper:W/32>50,defaultCurrent:1,style:{marginTop:16},current:S,total:W,pageSize:32,onChange:H,showSizeChanger:!1}),!G&&(0,i.jsx)("div",{className:"result-notice",style:{alignSelf:"center"},children:"Too many requests within seconds. Please wait a moment and try again later."}),(0,i.jsx)("div",{className:"sats-list",children:G&&!z&&Z.map((e,n)=>(0,i.jsx)(en,{item:e,index:n},n))}),G&&!z&&(0,i.jsx)(r.Z,{showQuickJumper:W/32>50,defaultCurrent:1,current:S,total:W,pageSize:32,onChange:H,hideOnSinglePage:!0,showSizeChanger:!1}),Q&&(0,i.jsx)(p.o,{nftType:x.rf.domain,detail:Q,close:()=>{U(null),K(b)}})]})}}},function(e){e.O(0,[3791,1980,9774,2888,179],function(){return e(e.s=8266)}),_N_E=e.O()}]);